{"abi":[{"type":"function","name":"MAX_REVEAL_WINDOW","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"MIN_REVEAL_DELAY","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"cancelCommit","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"commit","inputs":[{"name":"hash","type":"bytes32","internalType":"bytes32"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"commitTimestamps","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"commits","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"computeCommitHash","inputs":[{"name":"secret","type":"bytes32","internalType":"bytes32"},{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"pure"},{"type":"function","name":"getCommitStatus","inputs":[{"name":"user","type":"address","internalType":"address"}],"outputs":[{"name":"hasCommit","type":"bool","internalType":"bool"},{"name":"canReveal","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"event","name":"CommitCancelled","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"Committed","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"commitHash","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"timestamp","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Revealed","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"timestamp","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"AlreadyCommitted","inputs":[]},{"type":"error","name":"InvalidReveal","inputs":[]},{"type":"error","name":"NoCommitFound","inputs":[]},{"type":"error","name":"RevealTooEarly","inputs":[]},{"type":"error","name":"RevealTooLate","inputs":[]}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"MAX_REVEAL_WINDOW()":"8973bc7e","MIN_REVEAL_DELAY()":"888eeea6","cancelCommit()":"42341454","commit(bytes32)":"f14fcbc8","commitTimestamps(address)":"6396d6e5","commits(address)":"7b43a8e6","computeCommitHash(bytes32,address)":"fda75548","getCommitStatus(address)":"ac3108b5"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.24+commit.e11b9ed9\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"AlreadyCommitted\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidReveal\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NoCommitFound\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"RevealTooEarly\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"RevealTooLate\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"CommitCancelled\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"commitHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"Committed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"Revealed\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"MAX_REVEAL_WINDOW\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MIN_REVEAL_DELAY\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"cancelCommit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"hash\",\"type\":\"bytes32\"}],\"name\":\"commit\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"commitTimestamps\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"commits\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"secret\",\"type\":\"bytes32\"},{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"computeCommitHash\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"getCommitStatus\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"hasCommit\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"canReveal\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"Ember \\ud83d\\udc09\",\"details\":\"Inherit this contract and use onlyRevealed modifier on functions that need protection\",\"kind\":\"dev\",\"methods\":{\"cancelCommit()\":{\"details\":\"Useful if user wants to change their commitment\"},\"commit(bytes32)\":{\"details\":\"User computes: keccak256(abi.encodePacked(secret, userAddress))\",\"params\":{\"hash\":\"The keccak256 hash of (secret, msg.sender)\"}},\"computeCommitHash(bytes32,address)\":{\"params\":{\"secret\":\"The secret value\",\"user\":\"The user address\"},\"returns\":{\"_0\":\"The hash to use in commit()\"}},\"getCommitStatus(address)\":{\"params\":{\"user\":\"The address to check\"},\"returns\":{\"canReveal\":\"Whether the user can currently reveal\",\"hasCommit\":\"Whether the user has an active commit\"}}},\"title\":\"CommitReveal\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"MAX_REVEAL_WINDOW()\":{\"notice\":\"Maximum time to reveal after commit (prevents stale commits)\"},\"MIN_REVEAL_DELAY()\":{\"notice\":\"Minimum time between commit and reveal (prevents same-block reveal)\"},\"cancelCommit()\":{\"notice\":\"Cancel an existing commit\"},\"commit(bytes32)\":{\"notice\":\"Commit a hash for later reveal\"},\"computeCommitHash(bytes32,address)\":{\"notice\":\"Helper to compute commit hash off-chain\"},\"getCommitStatus(address)\":{\"notice\":\"Check if an address has an active commit\"}},\"notice\":\"Abstract contract implementing commit-reveal scheme for frontrunning protection\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/security/CommitReveal.sol\":\"CommitReveal\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"],\"viaIR\":true},\"sources\":{\"contracts/security/CommitReveal.sol\":{\"keccak256\":\"0x7384eb66b4448af3af130d463b85abb5ec45ae06b610a6c90548581a781ee5d9\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a8f05b32755cca4592c56d4fde215d95dc9ebec2761ac5d3f9de9ded4fd69681\",\"dweb:/ipfs/QmdZetLgRtXKT6F6fBtW3pMeqkjW23xBX9YZ2sqZVPb57H\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.24+commit.e11b9ed9"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"AlreadyCommitted"},{"inputs":[],"type":"error","name":"InvalidReveal"},{"inputs":[],"type":"error","name":"NoCommitFound"},{"inputs":[],"type":"error","name":"RevealTooEarly"},{"inputs":[],"type":"error","name":"RevealTooLate"},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true}],"type":"event","name":"CommitCancelled","anonymous":false},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"bytes32","name":"commitHash","type":"bytes32","indexed":true},{"internalType":"uint256","name":"timestamp","type":"uint256","indexed":false}],"type":"event","name":"Committed","anonymous":false},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"uint256","name":"timestamp","type":"uint256","indexed":false}],"type":"event","name":"Revealed","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"MAX_REVEAL_WINDOW","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"MIN_REVEAL_DELAY","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"cancelCommit"},{"inputs":[{"internalType":"bytes32","name":"hash","type":"bytes32"}],"stateMutability":"nonpayable","type":"function","name":"commit"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"commitTimestamps","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","name":"commits","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[{"internalType":"bytes32","name":"secret","type":"bytes32"},{"internalType":"address","name":"user","type":"address"}],"stateMutability":"pure","type":"function","name":"computeCommitHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"stateMutability":"view","type":"function","name":"getCommitStatus","outputs":[{"internalType":"bool","name":"hasCommit","type":"bool"},{"internalType":"bool","name":"canReveal","type":"bool"}]}],"devdoc":{"kind":"dev","methods":{"cancelCommit()":{"details":"Useful if user wants to change their commitment"},"commit(bytes32)":{"details":"User computes: keccak256(abi.encodePacked(secret, userAddress))","params":{"hash":"The keccak256 hash of (secret, msg.sender)"}},"computeCommitHash(bytes32,address)":{"params":{"secret":"The secret value","user":"The user address"},"returns":{"_0":"The hash to use in commit()"}},"getCommitStatus(address)":{"params":{"user":"The address to check"},"returns":{"canReveal":"Whether the user can currently reveal","hasCommit":"Whether the user has an active commit"}}},"version":1},"userdoc":{"kind":"user","methods":{"MAX_REVEAL_WINDOW()":{"notice":"Maximum time to reveal after commit (prevents stale commits)"},"MIN_REVEAL_DELAY()":{"notice":"Minimum time between commit and reveal (prevents same-block reveal)"},"cancelCommit()":{"notice":"Cancel an existing commit"},"commit(bytes32)":{"notice":"Commit a hash for later reveal"},"computeCommitHash(bytes32,address)":{"notice":"Helper to compute commit hash off-chain"},"getCommitStatus(address)":{"notice":"Check if an address has an active commit"}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/security/CommitReveal.sol":"CommitReveal"},"evmVersion":"cancun","libraries":{},"viaIR":true},"sources":{"contracts/security/CommitReveal.sol":{"keccak256":"0x7384eb66b4448af3af130d463b85abb5ec45ae06b610a6c90548581a781ee5d9","urls":["bzz-raw://a8f05b32755cca4592c56d4fde215d95dc9ebec2761ac5d3f9de9ded4fd69681","dweb:/ipfs/QmdZetLgRtXKT6F6fBtW3pMeqkjW23xBX9YZ2sqZVPb57H"],"license":"MIT"}},"version":1},"id":2}